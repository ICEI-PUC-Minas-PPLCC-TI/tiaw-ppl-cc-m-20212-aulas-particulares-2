<!DOCTYPE html>
<html lang="pt-br">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
	 crossorigin="anonymous">
	<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
	<link href="styles/login.css" rel="stylesheet">
	<link href="styles/cadastro.css" rel="stylesheet">
    <link rel="stylesheet" href="styles/style.css">
	<title>Cadastro</title>
</head>

<body>

	<!--Cabeçalho-->
	<header class="header"></header>

    <main class="container">
        <div class="form">
            <div class="row">
                <div class="form-element">
                    <h2>Cadastro</h2>
                </div>
                <div class="col-md-12 col-lg-6">
                    <div class="label">
                        <label for="nome">Nome Completo</label>
                    </div>
                    <input type="text" name="nome" id="nome">

                    <div class="label">
                        <label for="checkbox">Gênero</label>
                    </div>
                    <div class="gender">
                        <div class="checkboxgenero" id="gender">
                            <input type="checkbox" id="masculino" name="sexo">
                            <label for="masculino">M</label>
                            <input type="checkbox" id="feminino" name="sexo">
                            <label for="feminino">F</label>
                        </div>
                    </div>

                    <div class="label">
                        <label for="data">Data de Nascimento</label>
                    </div>
                    <input type="date" id="data" name="data-nascimento">

                    <div class="label">
                        <label for="telefone">Número de telefone</label>
                    </div>
                    <input class="onlyNumber" type="number" id="telefone" name="telefone">

                    <div class="label">
                        <label for="experiencia">Experiência com aulas</label>
                    </div>
                    <input class="onlyNumber" type="number" id="experiencia" name="experiencia">

                    
                    <div class="papel">
                            
                        
                        <div class="checkboxgenero" id="papel">
                            <label for="papel">Você é: </label>
                            <input type="checkbox" id="opcaoProfessor" name="sexo">
                            <label for="opcaoProfessor">Professor</label>
                            <input type="checkbox" id="opcaoAluno" name="sexo">
                            <label for="opcaoAluno">Aluno</label>
                        </div>
                    </div>

                </div>

                <div class="col-md-12 col-lg-6">
                    <div class="label">
                        <label for="email">E-mail</label>
                    </div>
                    <input type="text" id="cemail" name="email">

                    <div class="label">
                        <label for="senha">Senha</label>
                    </div>
                    <input type="password" id="csenha" name="senha">

                    <div class="label">
                        <label for="senha2">Insira senha novamente</label>
                    </div>
                    <input type="password" id="csenha2" name="senha2">

                    <div class="label">
                        <label for="estado">Estado</label>
                    </div>
                    <input type="text" id="estado" name="estado">

                    <div class="label">
                        <label for="cidade">Cidade</label>
                    </div>
                    <input type="text" id="cidade" name="cidade">

                    <div class="label">
                        <label for="cidade">CEP</label>
                    </div>
                    <input class="onlyNumber" type="number" id="cep" name="cep">
                </div>

                <div class="form-element botao col-12">
                    <button type="button" id="btn_salvar">Cadastrar</button>
                </div>
            </div>
        </div>
    </main>

<!--Rodapé-->
<footer class="footer"></footer>

  <!--Links JS Bootstrap-->
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
      integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
      crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
      integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
      crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
      integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
      crossorigin="anonymous"></script>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" 
    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script src="scripts/headerFooter.js"></script>
    <script src="scripts/login.js"></script>
    <script src="scripts/script.js"></script>
    <script type="text/javascript" src="scripts/validaemail.js"></script>
    <script>
        function salvaLogin(event) {
          
            
            if (cemail.value.length == 0 || csenha.value.length == 0 || csenha2.value.length == 0) {
              event.preventDefault();
              alert("Você deve pelo menos preencher os campos de e-mail e senha");
            }
            else if(!verificaEmail())
            {
              event.preventDefault();
              
            }
            else {
              
              let nome = document.getElementById('nome').value;
              let estado = document.getElementById('estado').value;
              let cidade = document.getElementById('cidade').value;
              let telefone = document.getElementById('telefone').value;
              let email = document.getElementById('cemail').value;
              let senha = document.getElementById('csenha').value;
              let senha2 = document.getElementById('csenha2').value;
              let gender;
              let CEP = document.getElementById('cep').value;
              if(document.getElementById('feminino').checked){
                gender = 'Feminino';
              }
              else if (document.getElementById('masculino').checked) {
                  gender = 'Masculino';
              }
              else{
                  gender = 'Não informado';
              }
              let experiencia = document.getElementById('experiencia').value;
              let papel;

              if(document.getElementById('opcaoProfessor').checked){
                papel = 'professor';
              }
              else {
                  papel = 'aluno';
              }

              if (senha != senha2) {
                event.preventDefault();
                  alert('As senhas informadas não conferem');
                  
              }
              else{
                addUser(nome, estado, cidade, telefone, email, senha, experiencia, gender,papel,CEP);
                alert('Entidade salva com sucesso. Encaminhando para a página principal... Proceda com o login');
                window.location.href = 'index.html';
              }
              
            }
            
          
          
        }  

        document.getElementById('btn_salvar').addEventListener('click', salvaLogin);
    </script>

    <script>
      $('input[type="checkbox"]').on('change', function() {
      $(this).siblings('input[type="checkbox"]').prop('checked', false);
      })
      
      //Faz com que digite apenas numeros
      document.getElementById('telefone').oninput = () => {
          if ('1234567890'.indexOf(telefone.value[telefone.value.length-1]) == -1) {
            telefone.value = telefone.value.substring(0,telefone.value.length-1);
          }
      };
    </script>
    
    
</body>
</html>